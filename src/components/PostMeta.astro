---
// src/components/PostMeta.astro
import FormattedDate from './FormattedDate.astro';

export interface Props {
  pubDate: Date;
  updatedDate?: Date;
  author?: string;
  readingTime?: string;
}

const { pubDate, updatedDate, author, readingTime } = Astro.props;
---

<div class="post-meta">
  <div class="meta-item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="16" y1="2" x2="16" y2="6"></line>
      <line x1="8" y1="2" x2="8" y2="6"></line>
      <line x1="3" y1="10" x2="21" y2="10"></line>
    </svg>
    <FormattedDate date={pubDate} />
  </div>

  {updatedDate && (
    <div class="meta-item updated">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M1 4v6h6"></path>
        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
      </svg>
      Updated <FormattedDate date={updatedDate} />
    </div>
  )}

  {author && (
    <div class="meta-item">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      {author}
    </div>
  )}

  {readingTime && (
    <div class="meta-item">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12,6 12,12 16,14"></polyline>
      </svg>
      {readingTime}
    </div>
  )}
</div>

<style>
  .post-meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-base);
    justify-content: center;
    color: var(--color-muted);
    font-size: var(--font-size-small);
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }

  .meta-item svg {
    opacity: 0.7;
  }

  .updated {
    color: var(--color-info);
  }

  @media (max-width: 768px) {
    .post-meta {
      justify-content: flex-start;
      flex-direction: column;
      gap: var(--spacing-small);
    }
  }
</style>