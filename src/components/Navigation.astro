<!-- src/components/Navigation.astro -->
---
// No imports needed for basic functionality
---

<nav class="nav">
  <div class="nav-container">
    <!-- Logo/Brand -->
    <div class="nav-brand">
      <a href="/" class="nav-brand-link">
        The Kaelin Family
      </a>
    </div>

    <!-- Desktop Navigation -->
    <div class="nav-menu">
      <a href="/" class="nav-link">Home</a>
      <a href="/portfolio" class="nav-link">Portfolio</a>
      <a href="/categories" class="nav-link">Categories</a>
      <a href="/blog" class="nav-link">Blog</a>
      <a href="/about" class="nav-link">About</a>
    </div>

    <!-- Mobile Menu Button -->
    <button 
      class="nav-toggle"
      aria-label="Toggle navigation menu"
      id="nav-toggle"
    >
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
    </button>

    <!-- Mobile Navigation -->
    <div class="nav-mobile" id="nav-mobile">
      <a href="/" class="nav-mobile-link">Home</a>
      <a href="/projects" class="nav-mobile-link">Projects</a>
      <a href="/categories" class="nav-mobile-link">Categories</a>
      <a href="/blog" class="nav-mobile-link">Blog</a>
      <a href="/about" class="nav-mobile-link">About</a>
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="nav-overlay" id="nav-overlay"></div>
</nav>

<script>
  // Client-side JavaScript for mobile menu toggle
  const navToggle = document.getElementById('nav-toggle');
  const navMobile = document.getElementById('nav-mobile');
  const navOverlay = document.getElementById('nav-overlay');
  const body = document.body;

  function toggleMenu() {
    if (!navToggle || !navMobile || !navOverlay) return;
    
    const isOpen = navToggle.classList.contains('nav-toggle--active');
    
    if (isOpen) {
      // Close menu
      navToggle.classList.remove('nav-toggle--active');
      navMobile.classList.remove('nav-mobile--active');
      navOverlay.classList.remove('nav-overlay--active');
      body.classList.remove('nav-open');
    } else {
      // Open menu
      navToggle.classList.add('nav-toggle--active');
      navMobile.classList.add('nav-mobile--active');
      navOverlay.classList.add('nav-overlay--active');
      body.classList.add('nav-open');
    }
  }

  // Toggle menu on button click
  if (navToggle) {
    navToggle.addEventListener('click', toggleMenu);
  }

  // Close menu on overlay click
  if (navOverlay) {
    navOverlay.addEventListener('click', toggleMenu);
  }

  // Close menu on mobile link click
  const mobileLinks = document.querySelectorAll('.nav-mobile-link');
  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      if (navToggle && navToggle.classList.contains('nav-toggle--active')) {
        toggleMenu();
      }
    });
  });

  // Close menu on escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && navToggle && navToggle.classList.contains('nav-toggle--active')) {
      toggleMenu();
    }
  });
</script>
